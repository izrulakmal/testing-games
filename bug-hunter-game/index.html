<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bug Hunter - Interactive Software Testing Game</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>
</head>
<body>
    <a href="http://localhost:7890" class="back-home-btn" title="Back to Main Page">ğŸ  Home</a>
    <button id="music-toggle" class="music-toggle" title="Toggle Music">ğŸ”Š</button>
    <div id="game-container">
        <div id="header">
            <h1>ğŸ› Bug Hunter - Testing Game ğŸ›</h1>
            <p>Learn the importance of software testing by finding and squashing bugs!</p>
        </div>
        <div id="game"></div>
        <div id="instructions">
            <h2>How to Play:</h2>
            <ul>
                <li>ğŸ¯ Click on bugs to catch them before they escape!</li>
                <li>ğŸ” Test different parts of the code to find hidden bugs</li>
                <li>âš¡ Fix bugs quickly for bonus points!</li>
                <li>ğŸ“ˆ Progress through levels to become a Testing Master!</li>
                <li>ğŸ’¯ Each bug caught earns you points based on its severity</li>
            </ul>
            <div class="difficulty-info">
                <h3>Bug Types:</h3>
                <p>ğŸ› <strong>Minor Bug</strong> - 10 points</p>
                <p>ğŸ <strong>Major Bug</strong> - 25 points</p>
                <p>ğŸ¦— <strong>Critical Bug</strong> - 50 points</p>
            </div>
        </div>
    </div>
    <script>
        // Bug Hunter Arcade Music
        class GameMusic {
            constructor() {
                this.audioContext = null;
                this.isPlaying = false;
                this.currentBeat = 0;
                this.gainNode = null;
                
                // Fast-paced action music
                this.beats = [
                    { freq: 440.00, duration: 0.15 }, // A4
                    { freq: 493.88, duration: 0.15 }, // B4
                    { freq: 523.25, duration: 0.15 }, // C5
                    { freq: 587.33, duration: 0.15 }, // D5
                    { freq: 659.25, duration: 0.15 }, // E5
                    { freq: 587.33, duration: 0.15 }, // D5
                    { freq: 523.25, duration: 0.15 }, // C5
                    { freq: 440.00, duration: 0.3 }   // A4
                ];
            }
            
            init() {
                if (!this.audioContext) {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    this.gainNode = this.audioContext.createGain();
                    this.gainNode.gain.value = 0.15;
                    this.gainNode.connect(this.audioContext.destination);
                }
            }
            
            playNote(frequency, duration) {
                if (!this.audioContext) return;
                
                const osc = this.audioContext.createOscillator();
                const noteGain = this.audioContext.createGain();
                
                osc.type = 'triangle';
                osc.frequency.value = frequency;
                
                noteGain.gain.setValueAtTime(0.15, this.audioContext.currentTime);
                noteGain.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + duration);
                
                osc.connect(noteGain);
                noteGain.connect(this.gainNode);
                
                osc.start(this.audioContext.currentTime);
                osc.stop(this.audioContext.currentTime + duration);
            }
            
            playLoop() {
                if (!this.isPlaying) return;
                
                const beat = this.beats[this.currentBeat];
                this.playNote(beat.freq, beat.duration);
                
                this.currentBeat = (this.currentBeat + 1) % this.beats.length;
                
                setTimeout(() => this.playLoop(), beat.duration * 1000);
            }
            
            start() {
                this.init();
                if (this.audioContext.state === 'suspended') {
                    this.audioContext.resume();
                }
                this.isPlaying = true;
                this.playLoop();
            }
            
            stop() {
                this.isPlaying = false;
            }
            
            toggle() {
                if (this.isPlaying) {
                    this.stop();
                    return false;
                } else {
                    this.start();
                    return true;
                }
            }
        }

        const gameMusic = new GameMusic();
        const musicToggle = document.getElementById('music-toggle');
        let musicEnabled = false;
        
        musicToggle.addEventListener('click', () => {
            musicEnabled = gameMusic.toggle();
            musicToggle.textContent = musicEnabled ? 'ğŸ”Š' : 'ğŸ”‡';
            musicToggle.classList.toggle('active', musicEnabled);
        });
    </script>
    <script src="game.js"></script>
</body>
</html>
